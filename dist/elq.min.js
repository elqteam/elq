!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Elq=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(){function a(a,b){b||(b=a,a=0),a>f?f=a:a<g&&(g=a),d[a]||(d[a]=[]),d[a].push(b),e++}function b(){for(var a=g;a<=f;a++)for(var b=d[a],c=0;c<b.length;c++){var e=b[c];e()}}function c(){return e}var d={},e=0,f=0,g=0;return{add:a,process:b,size:c}}var e=a("./utils");b.exports=function(a){function b(a,b){!o&&l&&k&&0===n.size()&&g(),n.add(a,b)}function c(){for(o=!0;n.size();){var a=n;n=d(),a.process()}o=!1}function f(a){o||(void 0===a&&(a=k),m&&(h(m),m=null),a?g():c())}function g(){m=i(c)}function h(a){var b=clearTimeout;return b(a)}function i(a){var b=function(a){return setTimeout(a,0)};return b(a)}a=a||{};var j=a.reporter,k=e.getOption(a,"async",!0),l=e.getOption(a,"auto",!0);l&&!k&&(j&&j.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),k=!0);var m,n=d(),o=!1;return{add:b,force:f}}},{"./utils":2}],2:[function(a,b,c){"use strict";function d(a,b,c){var d=a[b];return void 0!==d&&null!==d||void 0===c?d:c}var e=b.exports={};e.getOption=d},{}],3:[function(a,b,c){"use strict";var d=b.exports={};d.isIE=function(a){function b(){var a=navigator.userAgent.toLowerCase();return a.indexOf("msie")!==-1||a.indexOf("trident")!==-1||a.indexOf(" edge/")!==-1}if(!b())return!1;if(!a)return!0;var c=function(){var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");do c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->";while(d[0]);return b>4?b:a}();return a===c},d.isLegacyOpera=function(){return!!window.opera}},{}],4:[function(a,b,c){"use strict";var d=b.exports={};d.forEach=function(a,b){for(var c=0;c<a.length;c++){var d=b(a[c]);if(d)return d}}},{}],5:[function(a,b,c){"use strict";var d=a("../browser-detector");b.exports=function(a){function b(a,b){function c(){b(a)}if(!e(a))throw new Error("Element is not detectable by this strategy.");if(d.isIE(8))i(a).object={proxy:c},a.attachEvent("onresize",c);else{var f=e(a);f.contentDocument.defaultView.addEventListener("resize",c)}}function c(a,b,c){function e(a,b){function c(){function c(){if("static"===j.position){a.style.position="relative";var b=function(a,b,c,d){function e(a){return a.replace(/[^-\d\.]/g,"")}var f=c[d];"auto"!==f&&"0"!==e(f)&&(a.warn("An element that is positioned static has style."+d+"="+f+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+d+" will be set to 0. Element: ",b),b.style[d]=0)};b(g,a,j,"top"),b(g,a,j,"right"),b(g,a,j,"bottom"),b(g,a,j,"left")}}function h(){function d(a,b){return a.contentDocument?void b(a.contentDocument):void setTimeout(function(){d(a,b)},100)}f||c();var e=this;d(e,function(c){b(a)})}""!==j.position&&(c(j),f=!0);var k=document.createElement("object");k.style.cssText=e,k.tabIndex=-1,k.type="text/html",k.setAttribute("aria-hidden","true"),k.onload=h,d.isIE()||(k.data="about:blank"),a.appendChild(k),i(a).object=k,d.isIE()&&(k.data="about:blank")}var e="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",f=!1,j=window.getComputedStyle(a),k=a.offsetWidth,l=a.offsetHeight;i(a).startSize={width:k,height:l},h?h.add(c):c()}c||(c=b,b=a,a=null),a=a||{};a.debug;d.isIE(8)?c(b):e(b,c)}function e(a){return i(a).object}function f(a){d.isIE(8)?a.detachEvent("onresize",i(a).object.proxy):a.removeChild(e(a)),delete i(a).object}a=a||{};var g=a.reporter,h=a.batchProcessor,i=a.stateHandler.getState;if(!g)throw new Error("Missing required dependency: reporter.");return{makeDetectable:c,addListener:b,uninstall:f}}},{"../browser-detector":3}],6:[function(a,b,c){"use strict";var d=a("../collection-utils").forEach;b.exports=function(a){function b(){var a=500,b=500,c=document.createElement("div");c.style.cssText="position: absolute; width: "+2*a+"px; height: "+2*b+"px; visibility: hidden; margin: 0; padding: 0;";var d=document.createElement("div");d.style.cssText="position: absolute; width: "+a+"px; height: "+b+"px; overflow: scroll; visibility: none; top: "+3*-a+"px; left: "+3*-b+"px; visibility: hidden; margin: 0; padding: 0;",d.appendChild(c),document.body.insertBefore(d,document.body.firstChild);var e=a-d.clientWidth,f=b-d.clientHeight;return document.body.removeChild(d),{width:e,height:f}}function c(a,b){function c(b,c){c=c||function(a){document.head.appendChild(a)};var d=document.createElement("style");return d.innerHTML=b,d.id=a,c(d),d}if(!document.getElementById(a)){var d=b+"_animation",e=b+"_animation_active",f="/* Created by the element-resize-detector library. */\n";f+="."+b+" > div::-webkit-scrollbar { display: none; }\n\n",f+="."+e+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+d+"; animation-name: "+d+"; }\n",f+="@-webkit-keyframes "+d+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",f+="@keyframes "+d+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",c(f)}}function e(a){a.className+=" "+s+"_animation_active"}function f(a,b,c){if(a.addEventListener)a.addEventListener(b,c);else{if(!a.attachEvent)return m.error("[scroll] Don't know how to add event listeners.");a.attachEvent("on"+b,c)}}function g(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c);else{if(!a.detachEvent)return m.error("[scroll] Don't know how to remove event listeners.");a.detachEvent("on"+b,c)}}function h(a){return o(a).container.childNodes[0].childNodes[0].childNodes[0]}function i(a){return o(a).container.childNodes[0].childNodes[0].childNodes[1]}function j(a,b){var c=o(a).listeners;if(!c.push)throw new Error("Cannot add listener to an element that is not detectable.");o(a).listeners.push(b)}function k(a,b,c){function g(){if(a.debug){var c=Array.prototype.slice.call(arguments);if(c.unshift(p.get(b),"Scroll: "),m.log.apply)m.log.apply(null,c);else for(var d=0;d<c.length;d++)m.log(c[d])}}function j(a){function b(a){return a===a.ownerDocument.body||a.ownerDocument.body.contains(a)}return!b(a)||null===window.getComputedStyle(a)}function k(a){var b=o(a).container.childNodes[0],c=window.getComputedStyle(b);return!c.width||c.width.indexOf("px")===-1}function l(){var a=window.getComputedStyle(b),c={};return c.position=a.position,c.width=b.offsetWidth,c.height=b.offsetHeight,c.top=a.top,c.right=a.right,c.bottom=a.bottom,c.left=a.left,c.widthCSS=a.width,c.heightCSS=a.height,c}function r(){var a=l();o(b).startSize={width:a.width,height:a.height},g("Element start size",o(b).startSize)}function t(){o(b).listeners=[]}function u(){if(g("storeStyle invoked."),!o(b))return void g("Aborting because element has been uninstalled");var a=l();o(b).style=a}function v(a,b,c){o(a).lastWidth=b,o(a).lastHeight=c}function w(a){return h(a).childNodes[0]}function x(){return 2*q.width+1}function y(){return 2*q.height+1}function z(a){return a+10+x()}function A(a){return a+10+y()}function B(a){return 2*a+x()}function C(a){return 2*a+y()}function D(a,b,c){var d=h(a),e=i(a),f=z(b),g=A(c),j=B(b),k=C(c);d.scrollLeft=f,d.scrollTop=g,e.scrollLeft=j,e.scrollTop=k}function E(){var a=o(b).container;if(!a){a=document.createElement("div"),a.className=s,a.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",o(b).container=a,e(a),b.appendChild(a);var c=function(){o(b).onRendered&&o(b).onRendered()};f(a,"animationstart",c),o(b).onAnimationStart=c}return a}function F(){function a(){var a=o(b).style;if("static"===a.position){b.style.position="relative";var c=function(a,b,c,d){function e(a){return a.replace(/[^-\d\.]/g,"")}var f=c[d];"auto"!==f&&"0"!==e(f)&&(a.warn("An element that is positioned static has style."+d+"="+f+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+d+" will be set to 0. Element: ",b),b.style[d]=0)};c(m,b,a,"top"),c(m,b,a,"right"),c(m,b,a,"bottom"),c(m,b,a,"left")}}function c(a,b,c,d){return a=a?a+"px":"0",b=b?b+"px":"0",c=c?c+"px":"0",d=d?d+"px":"0","left: "+a+"; top: "+b+"; right: "+d+"; bottom: "+c+";"}function d(){o(b).onExpand&&o(b).onExpand()}function e(){o(b).onShrink&&o(b).onShrink()}if(g("Injecting elements"),!o(b))return void g("Aborting because element has been uninstalled");a();var h=o(b).container;h||(h=E());var i=q.width,j=q.height,k="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",l="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+c(-(1+i),-(1+j),-j,-i),n="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",p="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",r="position: absolute; left: 0; top: 0;",t="position: absolute; width: 200%; height: 200%;",u=document.createElement("div"),v=document.createElement("div"),w=document.createElement("div"),x=document.createElement("div"),y=document.createElement("div"),z=document.createElement("div");u.dir="ltr",u.style.cssText=k,u.className=s,v.className=s,v.style.cssText=l,w.style.cssText=n,x.style.cssText=r,y.style.cssText=p,z.style.cssText=t,w.appendChild(x),y.appendChild(z),v.appendChild(w),v.appendChild(y),u.appendChild(v),h.appendChild(u),f(w,"scroll",d),f(y,"scroll",e),o(b).onExpandScroll=d,o(b).onShrinkScroll=e}function G(){function c(a,b,c){var d=w(a),e=z(b),f=A(c);d.style.width=e+"px",d.style.height=f+"px"}function e(d){var e=b.offsetWidth,h=b.offsetHeight;g("Storing current size",e,h),v(b,e,h),n.add(0,function(){if(!o(b))return void g("Aborting because element has been uninstalled");if(!f())return void g("Aborting because element container has not been initialized");if(a.debug){var d=b.offsetWidth,i=b.offsetHeight;d===e&&i===h||m.warn(p.get(b),"Scroll: Size changed before updating detector elements.")}c(b,e,h)}),n.add(1,function(){return o(b)?f()?void D(b,e,h):void g("Aborting because element container has not been initialized"):void g("Aborting because element has been uninstalled")}),d&&n.add(2,function(){return o(b)?f()?void d():void g("Aborting because element container has not been initialized"):void g("Aborting because element has been uninstalled")})}function f(){return!!o(b).container}function j(){function a(){return void 0===o(b).lastNotifiedWidth}g("notifyListenersIfNeeded invoked");var c=o(b);return a()&&c.lastWidth===c.startSize.width&&c.lastHeight===c.startSize.height?g("Not notifying: Size is the same as the start size, and there has been no notification yet."):c.lastWidth===c.lastNotifiedWidth&&c.lastHeight===c.lastNotifiedHeight?g("Not notifying: Size already notified"):(g("Current size not notified, notifying..."),c.lastNotifiedWidth=c.lastWidth,c.lastNotifiedHeight=c.lastHeight,void d(o(b).listeners,function(a){a(b)}))}function l(){if(g("startanimation triggered."),k(b))return void g("Ignoring since element is still unrendered...");g("Element rendered.");var a=h(b),c=i(b);0!==a.scrollLeft&&0!==a.scrollTop&&0!==c.scrollLeft&&0!==c.scrollTop||(g("Scrollbars out of sync. Updating detector elements..."),e(j))}function q(){if(g("Scroll detected."),k(b))return void g("Scroll event fired while unrendered. Ignoring...");var a=b.offsetWidth,c=b.offsetHeight;a!==o(b).lastWidth||c!==o(b).lastHeight?(g("Element size changed."),e(j)):g("Element size has not changed ("+a+"x"+c+").")}if(g("registerListenersAndPositionElements invoked."),!o(b))return void g("Aborting because element has been uninstalled");o(b).onRendered=l,o(b).onExpand=q,o(b).onShrink=q;var r=o(b).style;c(b,r.width,r.height)}function H(){if(g("finalizeDomMutation invoked."),!o(b))return void g("Aborting because element has been uninstalled");var a=o(b).style;v(b,a.width,a.height),D(b,a.width,a.height)}function I(){c(b)}function J(){g("Installing..."),t(),r(),n.add(0,u),n.add(1,F),n.add(2,G),n.add(3,H),n.add(4,I)}c||(c=b,b=a,a=null),a=a||{},g("Making detectable..."),j(b)?(g("Element is detached"),E(),g("Waiting until element is attached..."),o(b).onRendered=function(){g("Element is now attached"),J()}):J()}function l(a){var b=o(a);b&&(b.onExpandScroll&&g(h(a),"scroll",b.onExpandScroll),b.onShrinkScroll&&g(i(a),"scroll",b.onShrinkScroll),b.onAnimationStart&&g(b.container,"animationstart",b.onAnimationStart),b.container&&a.removeChild(b.container))}a=a||{};var m=a.reporter,n=a.batchProcessor,o=a.stateHandler.getState,p=(a.stateHandler.hasState,a.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!m)throw new Error("Missing required dependency: reporter.");var q=b(),r="erd_scroll_detection_scrollbar_style",s="erd_scroll_detection_container";return c(r,s),{makeDetectable:k,addListener:j,uninstall:l}}},{"../collection-utils":4}],7:[function(a,b,c){"use strict";function d(a){return Array.isArray(a)||void 0!==a.length}function e(a){if(Array.isArray(a))return a;var b=[];return h(a,function(a){b.push(a)}),b}function f(a){return a&&1===a.nodeType}function g(a,b,c){var d=a[b];return void 0!==d&&null!==d||void 0===c?d:c}var h=a("./collection-utils").forEach,i=a("./element-utils"),j=a("./listener-handler"),k=a("./id-generator"),l=a("./id-handler"),m=a("./reporter"),n=a("./browser-detector"),o=a("batch-processor"),p=a("./state-handler"),q=a("./detection-strategy/object.js"),r=a("./detection-strategy/scroll.js");b.exports=function(a){function b(a,b,c){function i(a){var b=A.get(a);h(b,function(b){b(a)})}function j(a,b,c){A.add(b,c),a&&c(b)}if(c||(c=b,b=a,a={}),!b)throw new Error("At least one element required.");if(!c)throw new Error("Listener required.");if(f(b))b=[b];else{if(!d(b))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");b=e(b)}var k=0,l=g(a,"callOnAdd",y.callOnAdd),m=g(a,"onReady",function(){}),n=g(a,"debug",y.debug);h(b,function(a){p.getState(a)||(p.initState(a),s.set(a));var d=s.get(a);return n&&v.log("Attaching listener to element",d,a),B.isDetectable(a)?(n&&v.log(d,"Already detecable, adding listener."),j(l,a,c),void k++):(n&&v.log(d,"Not detectable."),B.isBusy(a)?(n&&v.log(d,"System busy making it detectable"),j(l,a,c),E[d]=E[d]||[],void E[d].push(function(){k++,k===b.length&&m()})):(n&&v.log(d,"Making detectable..."),B.markBusy(a,!0),z.makeDetectable({debug:n},a,function(a){if(n&&v.log(d,"onElementDetectable"),p.getState(a)){B.markAsDetectable(a),B.markBusy(a,!1),z.addListener(a,i),j(l,a,c);var e=p.getState(a);if(e&&e.startSize){var f=a.offsetWidth,g=a.offsetHeight;e.startSize.width===f&&e.startSize.height===g||i(a)}E[d]&&h(E[d],function(a){a()})}else n&&v.log(d,"Element uninstalled before being detectable.");delete E[d],k++,k===b.length&&m()})))}),k===b.length&&m()}function c(a){if(!a)return v.error("At least one element is required.");if(f(a))a=[a];else{if(!d(a))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");a=e(a)}h(a,function(a){A.removeAllListeners(a),z.uninstall(a),p.cleanState(a)})}a=a||{};var s;if(a.idHandler)s={get:function(b){return a.idHandler.get(b,!0)},set:a.idHandler.set};else{var t=k(),u=l({idGenerator:t,stateHandler:p});s=u}var v=a.reporter;if(!v){var w=v===!1;v=m(w)}var x=g(a,"batchProcessor",o({reporter:v})),y={};y.callOnAdd=!!g(a,"callOnAdd",!0),y.debug=!!g(a,"debug",!1);var z,A=j(s),B=i({stateHandler:p}),C=g(a,"strategy","object"),D={reporter:v,batchProcessor:x,stateHandler:p,idHandler:s};if("scroll"===C&&(n.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),C="object"):n.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),C="object")),"scroll"===C)z=r(D);else{if("object"!==C)throw new Error("Invalid strategy name: "+C);z=q(D)}var E={};return{listenTo:b,removeListener:A.removeListener,removeAllListeners:A.removeAllListeners,uninstall:c}}},{"./browser-detector":3,"./collection-utils":4,"./detection-strategy/object.js":5,"./detection-strategy/scroll.js":6,"./element-utils":8,"./id-generator":9,"./id-handler":10,"./listener-handler":11,"./reporter":12,"./state-handler":13,"batch-processor":1}],8:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=f(a);return b&&!!b.isDetectable}function c(a){f(a).isDetectable=!0}function d(a){return!!f(a).busy}function e(a,b){f(a).busy=!!b}var f=a.stateHandler.getState;return{isDetectable:b,markAsDetectable:c,isBusy:d,markBusy:e}}},{}],9:[function(a,b,c){"use strict";b.exports=function(){function a(){return b++}var b=1;return{generate:a}}},{}],10:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=e(a);return b&&void 0!==b.id?b.id:null}function c(a){var b=e(a);if(!b)throw new Error("setId required the element to have a resize detection state.");var c=d.generate();return b.id=c,c}var d=a.idGenerator,e=a.stateHandler.getState;return{get:b,set:c}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a){function b(b){var c=a.get(b);return void 0===c?[]:f[c]||[]}function c(b,c){var d=a.get(b);f[d]||(f[d]=[]),f[d].push(c)}function d(a,c){for(var d=b(a),e=0,f=d.length;e<f;++e)if(d[e]===c){d.splice(e,1);break}}function e(a){var c=b(a);c&&(c.length=0)}var f={};return{get:b,add:c,removeListener:d,removeAllListeners:e}}},{}],12:[function(a,b,c){"use strict";b.exports=function(a){function b(){}var c={log:b,warn:b,error:b};if(!a&&window.console){var d=function(a,b){a[b]=function(){var a=console[b];if(a.apply)a.apply(console,arguments);else for(var c=0;c<arguments.length;c++)a(arguments[c])}};d(c,"log"),d(c,"warn"),d(c,"error")}return c}},{}],13:[function(a,b,c){"use strict";function d(a){return a[g]={},e(a)}function e(a){return a[g]}function f(a){delete a[g]}var g="_erd";b.exports={initState:d,getState:e,cleanState:f}},{}],14:[function(a,b,c){b.exports={name:"elq",description:"Element queries library. Solution to modular responsive components.",homepage:"https://github.com/elqteam/elq",repository:{type:"git",url:"git://github.com/elqteam/elq.git"},version:"1.0.0","private":!1,license:"MIT",main:"src/index.js",devDependencies:{grunt:"^0.4.5","grunt-banner":"^0.3.1","grunt-browserify":"^3.3.0","grunt-contrib-jshint":"^0.11.0","grunt-contrib-uglify":"^0.11.0","grunt-contrib-watch":"^0.6.1","grunt-jscs":"^1.2.0","grunt-karma":"^0.10.1","jasmine-core":"^2.2.0","jasmine-expect":"^2.0.0-beta1","jasmine-jquery":"^2.0.6",jquery:"^1.11.2",karma:"^0.12.31","karma-chrome-launcher":"^0.1.7","karma-firefox-launcher":"^0.1.4","karma-jasmine":"^0.3.5","karma-safari-launcher":"^0.1.1","karma-sauce-launcher":"^0.2.10","load-grunt-tasks":"^3.0.0",lodash:"^3.3.1"},dependencies:{"element-resize-detector":"^1.1.7","batch-processor":"^1.0.0"},scripts:{build:"grunt build",dist:"grunt dist",test:"grunt test"}}},{}],15:[function(a,b,c){"use strict";var d=a("./utils").forEach;b.exports=function(a){function b(a){function b(a){return parseFloat(f.getComputedStyle(a).fontSize.replace("px",""))}var c={};return{getRootFontSize:function(){return c.rootFontSize||(c.rootFontSize=b(document.documentElement)),c.rootFontSize},getElementFontSize:function(){return c.elementFontSize||(c.elementFontSize=b(a)),c.elementFontSize}}}function c(a){return parseFloat(a.replace(/px/,""))}function e(a,e){function h(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var j=f.getComputedStyle(a),k=j.width,l=j.width;if(k.indexOf("px")===-1||l.indexOf("px")===-1)return!1;k=c(k),l=c(l);var m={width:k,height:l},n={width:[],height:[]},o=b(a);return d(e,function(a){var b,c=a.dimension,d=m[c],e=!1,f=!1;if(a.hasOwnProperty("pixelValue"))b=a.pixelValue;else{var j=i[a.type];j||g.error("Converter not found for breakpoint type '"+a.type+"'."),b=j(a.value,o)}d>b?e=!0:d<b&&(f=!0);var k=h(a);k.pixelValue=b;var l={breakpoint:k,over:e,under:f};n[c].push(l)}),n}var f=a.styleResolver,g=a.reporter,h={};h.PX="px",h.EM="em",h.REM="rem";var i={px:function(a){return a},em:function(a,b){return a*b.getElementFontSize()},rem:function(a,b){return a*b.getRootFontSize()}};return{getBreakpointStates:e}}},{"./utils":31}],16:[function(a,b,c){"use strict";var d=a("../elq"),e=a("../plugin/elq-breakpoints/elq-breakpoints.js"),f=a("../plugin/elq-minmax-applyer/elq-minmax-applyer.js"),g=a("../plugin/elq-mirror/elq-mirror.js");b.exports=function(a){var b=d.apply(null,arguments);a=a||{};var c=a.defaultUnit||"px";return b.use(e,{defaultUnit:c}),b.use(f),b.use(g),b}},{"../elq":19,"../plugin/elq-breakpoints/elq-breakpoints.js":25,"../plugin/elq-minmax-applyer/elq-minmax-applyer.js":27,"../plugin/elq-mirror/elq-mirror.js":28}],17:[function(a,b,c){"use strict";b.exports=function(a,b){function c(c,e,f){f=void 0!==f?f:Date.now();var g=a.get(c),h={classes:e,time:f};if(!d[g])return d[g]=[h],!1;for(var i=d[g],j=0,k=i.length-1;k>=0;k--){var l=i[k];if(h.time-l.time>b.timeBetweenCyclesAllowed)return d[g]=i.slice(k+1,i.length),d[g].push(h),!1;if(l.classes===h.classes&&j++,j>b.numCyclesAllowed)return d[g].push(h),!0}return d[g].push(h),!1}if(!a)throw new Error("IdHandler dependency required.");b=b||{},b.numCyclesAllowed=b.numCyclesAllowed||1,b.timeBetweenCyclesAllowed=b.timeBetweenCyclesAllowed||100;var d={};return{isUpdateCyclic:c}}},{}],18:[function(a,b,c){"use strict";var d=b.exports={};d.getAttribute=function(a,b){return a.hasAttribute(b)?a.getAttribute(b):a.getAttribute("data-"+b)},d.hasAttribute=function(a,b){return null!==d.getAttribute(a,b)}},{}],19:[function(a,b,c){"use strict";function d(){return h.version}function e(){return h.name}function f(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function g(a){function b(b){b=b||a;for(var c in a)a.hasOwnProperty(c)&&!b.hasOwnProperty(c)&&(b[c]=a[c]);return i(b)}return a=a||{},b}var h=a("../package.json"),i=a("batch-processor"),j=a("./utils").forEach,k=a("./utils").unique,l=a("element-resize-detector"),m=a("./plugin-handler"),n=a("./reporter"),o=a("./id-generator"),p=a("./id-handler"),q=a("./cycle-detector"),r=a("./breakpoint-state-calculator"),s=a("./style-resolver");b.exports=function(a){function b(a,b,c){var d=a.elq.listeners[b]||[];d=d.concat(M[b]||[]);var e=[a].concat(c||[]);j(d,function(a){a.apply(null,e)})}function c(a,c){var d=[];if(j(G.getMethods("getBreakpoints"),function(b){d=d.concat(b(a)||[])}),d.length){d=k(d,function(a){return a.dimension+a.value+a.type});var e=I.getBreakpointStates(a,d);if(e){var f=JSON.stringify(e);if(a.elq.currentBreakpointStatesHash!==f){if(C&&a.elq.cycleCheck&&F.isUpdateCyclic(a,f))return void B.warn("Cyclic rules detected! Breakpoint classes has not been updated. Element: ",a);a.elq.currentBreakpointStatesHash=f,(a.elq.applyBreakpoints||a.elq.serialize)&&(G.callMethods("serializeBreakpointStates",[a,e]),G.callMethods("applyBreakpointStates",[a,e])),b(a,"breakpointStatesChanged",[e])}}}}function h(a){a.elq=a.elq||{listeners:{},updateBreakpoints:!1,resizeDetection:!1,id:D.generate()}}function i(a){return!(!a.elq||!a.elq.id)}function t(a){return Array.isArray(a)||void 0!==a.length}function u(a){if(Array.isArray(a))return a;var b=[];return j(a,function(a){b.push(a)}),b}function v(a){return a&&1===a.nodeType}function w(a){function d(a){b(a,"resize"),a.elq.updateBreakpoints&&c(a,K)}if(a){if(v(a))a=[a];else{if(!t(a))return B.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");a=u(a)}j(G.getMethods("getExtraElements"),function(b){j(a,function(c){var d=b(c)||[];a.push.apply(a,d)})}),j(a,function(b){i(a)||h(b)}),a=k(a,function(a){return a.elq.id}),j(a,function(a){G.callMethods("activate",[a])});var e=J({async:!1,auto:!1});j(a,function(a){a.elq.updateBreakpoints&&c(a,e)}),j(a,function(a){a.elq.resizeDetection&&L.listenTo({callOnAdd:!0},a,d)}),e.force()}}function x(a){if(a){if(v(a))a=[a];else{if(!t(a))return B.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");a=u(a)}a=a.filter(function(a){return a.elq}),a=k(a,function(a){return a.elq.id}),j(a,function(a){G.callMethods("deactivate",[a]),a.elq.resizeDetection&&L.uninstall(a),delete a.elq})}}function y(a,b,c){function d(a){a[b]||(a[b]=[]),a[b].push(c)}if(c||(c=b,b=a,a=null),a){if(t(a)&&(a=a[0]),!v(a))return B.error("Invalid arguments. Element must be a DOM element, or a collection of a DOM element.");i(a)||h(a),d(a.elq.listeners)}else d(M)}a=a||{};var z=a.debug,A={},B=a.reporter||n(),C=a.cycleDetection||!1,D=o(),E=p(D),F=q(E),G=m(B),H=s(),I=r({styleResolver:H,reporter:B}),J=g({reporter:B}),K=J(),L=l({debug:z,idHandler:E,reporter:B,strategy:"scroll",batchProcessor:K}),M={};A.getVersion=d,A.getName=e,A.use=G.register.bind(null,A),A.using=G.isRegistered,A.activate=w,A.deactivate=x,A.listenTo=y;var N=f(A);return A.idHandler=E,A.reporter=B,A.cycleDetector=F,A.BatchUpdater=J,A.BatchProcessor=J,A.pluginHandler=G,N}},{"../package.json":14,"./breakpoint-state-calculator":15,"./cycle-detector":17,"./id-generator":20,"./id-handler":21,"./plugin-handler":23,"./reporter":29,"./style-resolver":30,"./utils":31,"batch-processor":1,"element-resize-detector":7}],20:[function(a,b,c){"use strict";b.exports=function(){function a(){return b++}var b=1;return{generate:a}}},{}],21:[function(a,b,c){"use strict";b.exports=function(a){function b(a,b){return b||d(a)||c(a),a[e]}function c(b){var c=a.generate();return b[e]=c,c}function d(a){return void 0!==a[e]}var e="_erdTargetId";return{get:b,set:c,has:d}}},{}],22:[function(a,b,c){"use strict";var d=a("./bundle/default");b.exports=d},{"./bundle/default":16}],23:[function(a,b,c){"use strict";var d=a("./utils").forEach;b.exports=function(a){function b(b,c,d){function e(b){if(!c[b]||!c[b].call)throw a.error("Plugin must provide the "+b+" method. Plugin: ",c),new Error("Invalid plugin: missing method")}if(d=d||{},!c)throw a.error("Plugin must be an object. Plugin: ",c),new Error("Invalid plugin: not an object");if(e("getName"),e("getVersion"),e("isCompatible"),e("make"),!c.isCompatible(b))throw a.error("Plugin "+c.getName()+":"+c.getVersion()+" is incompatible with "+b.getName()+":"+b.getVersion()),new Error("Incompatible plugin");var f=c.getName();if(h[f])throw new Error("Plugin "+f+" is already being used.");return h[f]=c.make(b,d),h[f]}function c(a){var b=a.getName?a.getName():a;return!!b&&!!h[b]}function e(a){var b=a.getName?a.getName():a;return h[b]||null}function f(a){function b(b){return b[a]}function c(b){var c=b[a];return c?c.bind(b):null}var d=[];for(var e in h)h.hasOwnProperty(e)&&d.push(h[e]);return d.filter(b).map(c)}function g(a,b){d(f(a),function(a){a.apply(null,b)})}if(!a)throw new Error("Reporter dependency required.");var h={};return{register:b,isRegistered:c,get:e,getMethods:f,callMethods:g}}},{"./utils":31}],24:[function(a,b,c){"use strict";function d(a){for(var b in e)if(e.hasOwnProperty(b)&&e[b]===a)return!0;return!1}var e={};e.PX="px",e.EM="em",e.REM="rem",b.exports=function(a){function b(a){function b(a,b){function g(a,b){var g=f.getAttribute(a,"elq-breakpoints-"+b+"s");return g?(g=g.replace(/\s+/g," ").trim(),g=g.split(" "),g=g.map(function(f){var g=f.match(/^([0-9]+)/g);g||c.error("Invalid breakpoint: "+f+" for element ",a);var h=f.match(/([a-zA-Z]+)$/g),i=h?h[0]:e;d(i)||c.error("Elq breakpoint found with invalid unit: "+i+" for element ",a);var j=parseFloat(g[0]);return{dimension:b,value:j,type:i}})):[]}var h=g(a,b);return h}var g=b(a,"width"),h=b(a,"height");return g.concat(h)}a=a||{};var c=a.reporter,e=a.defaultUnit,f=(a.styleResolver,a.elementUtils);return{parseBreakpoints:b}}},{}],25:[function(a,b,c){"use strict";var d=a("../../../package.json"),e=a("./breakpoint-parser.js"),f=a("../../style-resolver.js"),g=a("../../element-utils.js");b.exports={getName:function(){return"elq-breakpoints"},getVersion:function(){return d.version},isCompatible:function(a){return!0},make:function(a,b){function c(a){g.hasAttribute(a,"elq-breakpoints")&&(a.elq.resizeDetection=!0,a.elq.updateBreakpoints=!0,a.elq.applyBreakpoints!==!1&&(a.elq.applyBreakpoints=!0),g.getAttribute(a,"elq-breakpoints").indexOf("notcyclic")!==-1?a.elq.cycleCheck=!1:a.elq.cycleCheck!==!1&&(a.elq.cycleCheck=!0))}function d(a){return i.parseBreakpoints(a)}var h=f(),i=e({defaultUnit:b.defaultUnit,reporter:a.reporter,styleResolver:h,elementUtils:g});return{activate:c,getBreakpoints:d}}}},{"../../../package.json":14,"../../element-utils.js":18,"../../style-resolver.js":30,"./breakpoint-parser.js":24}],26:[function(a,b,c){"use strict";var d=a("../../utils").forEach;b.exports=function(){function a(a,b){function c(a){return a.sort(function(a,b){return a.breakpoint.pixelValue-b.breakpoint.pixelValue})}function e(a,b){var e=a[b],f=[];return e.length?(e=c(e),d(e,function(a){var b="min";a.under&&(b="max");var c=a.breakpoint.dimension,d=a.breakpoint.value,e=a.breakpoint.type;f.push("elq-"+b+"-"+c+"-"+d+e)}),f):f}function f(a,b){var c=a.className,d=new RegExp("elq-(min|max)-(width|height)-[0-9]+[a-zA-Z]+","g");c=c.replace(d,""),c+=" "+b,c=c.replace(/\s+/g," ").trim(),a.className=c}var g=e(b,"width"),h=e(b,"height"),i=g.join(" ")+" "+h.join(" ");f(a,i)}return{applyBreakpointStates:a}}},{"../../utils":31}],27:[function(a,b,c){"use strict";var d=a("../../../package.json"),e=a("./breakpoint-state-applyer.js");a("../../style-resolver.js");b.exports={getName:function(){return"elq-minmax-classes"},getVersion:function(){return d.version},isCompatible:function(a){return!0},make:function(a,b){function c(a,b){d.applyBreakpointStates(a,b)}var d=e();return{applyBreakpointStates:c}}}},{"../../../package.json":14,"../../style-resolver.js":30,"./breakpoint-state-applyer.js":26}],28:[function(a,b,c){"use strict";var d=a("../../../package.json"),e=a("../../element-utils.js");b.exports={getName:function(){return"elq-mirror"},getVersion:function(){return d.version},isCompatible:function(a){return!0},make:function(a){function b(b,c){if(b.elq.applyBreakpoints=!1,b.elq.mirror){if(b.elq.mirror.targetId===c.elq.id)return;a.reporter.error("Cannot change mirror target.",b)}b.elq.mirror={targetId:c.elq.id},a.listenTo(c,"breakpointStatesChanged",function(c,d){a.pluginHandler.callMethods("applyBreakpointStates",[b,d])})}function c(c){function d(b){for(var c=b.parentNode;c&&c.hasAttribute;){if(e.hasAttribute(c,"elq-breakpoints"))return c;c=c.parentNode}a.reporter.error("Mirror elements require an elq-breakpoints ancestor. This error can probably be resolved by making body an elq-breakpoints element. Error caused by mirror element:",b)}if(e.hasAttribute(c,"elq-mirror")){var f=d(c);b(c,f)}}return{activate:c,mirror:b}}}},{"../../../package.json":14,"../../element-utils.js":18}],29:[function(a,b,c){"use strict";b.exports=function(a){function b(){}var c={log:b,warn:b,error:b};if(!a&&window.console){var d=function(a,b){a[b]=function(){console[b].apply(console,arguments)}};d(c,"log"),d(c,"warn"),d(c,"error")}return c}},{}],30:[function(a,b,c){"use strict";b.exports=function(){return{getComputedStyle:function(a){return window.getComputedStyle(a)}}}},{}],31:[function(a,b,c){"use strict";function d(a,b,c){var d=a[b];return void 0!==d&&null!==d||void 0===c?d:c}var e=b.exports={};e.getOption=d,e.forEach=function(a,b){for(var c=0;c<a.length;c++){var d=b(a[c]);if(d)return d}},e.unique=function(a,b){var c=[],d={};return e.forEach(a,function(a){var e=b(a);d[e]||(c.push(a),d[e]=!0)}),c}},{}]},{},[22])(22)});